apiVersion: tekton.dev/v1beta1
kind: PipelineRun
metadata:
  generateName: build-deploy-reviews-run-
spec:
  serviceAccountName: tekton-admin
  params:
  - name: target-app
    value: reviews
  - name: imageurl
    value: registry.gitlab.com/cloudnative_impress/bookinfo
  - name: bookinfo-url
    value: https://gitlab.com/cloudnative_impress/bookinfo.git
  - name: bookinfo-revision
    value: master
  - name: bookinfo-manifests-url
    value: https://gitlab.com/cloudnative_impress/bookinfo-manifests.git
  - name: bookinfo-manifests-revision
    value: master
  workspaces:
  - name: bookinfo
    persistentVolumeClaim:
      claimName: bookinfo
  - name: bookinfo-manifests
    persistentVolumeClaim:
      claimName: bookinfo-manifests
  - name: vul-cache
    emptyDir: {}
  - name: container-scan-reports
    persistentVolumeClaim:
      claimName: container-scan-reports 
  pipelineRef:
    name: build-deploy-reviews
